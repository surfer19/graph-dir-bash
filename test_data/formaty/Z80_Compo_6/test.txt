		ORG 8000
8000:		label Start
8000:210040	LD HL, 4000
8003:110140	LD DE, 4001
8006:75		LD (HL), L
8007:01FF1B	LD BC, 1BFF
800A:EDB0	LDIR
800C:212958	LD HL, 5829
800F:74		LD (HL), H
8010:113458	LD DE, 5834
8013:7A		LD A, D
8014:12		LD (DE), A
8015:1E49	LD E, 49
8017:01A002	LD BC, 02A0
801A:EDB0	LDIR
801C:060C	LD B, 0C
801E:		label _Board
801E:12		LD (DE), A
801F:1C		INC E
8020:10FC	DJNZ 801E
8022:		label CheckDrop
8022:21CA5A	LD HL, 5ACA
8025:0E16	LD C, 16
8027:		label _NextRow
8027:060A	LD B, 0A
8029:E5		PUSH HL
802A:		label _CheckRow
802A:7E		LD A, (HL)
802B:A7		AND A
802C:2804	JR Z, 8032
802E:2C		INC L
802F:10F9	DJNZ 802A
8031:79		LD A, C
8032:		label _NotFull
8032:D1		POP DE
8033:21E0FF	LD HL, FFE0
8036:19		ADD HL, DE
8037:280B	JR Z, 8044
8039:E5		PUSH HL
803A:0E0A	LD C, 0A
803C:EDB0	LDIR
803E:3D		DEC A
803F:20F1	JR NZ, 8032
8041:E1		POP HL
8042:18DE	JR 8022
8044:		label _DoNextRowCheck
8044:0D		DEC C
8045:20E0	JR NZ, 8027
8047:		label _GetBlock
8047:ED5F	LD A, R
8049:E638	AND 38
804B:28FA	JR Z, 8047
804D:5F		LD E, A
804E:0F		RRCA
804F:0F		RRCA
8050:0F		RRCA
8051:32BB80	LD (80BB), A
8054:		label NewBlockLoop
8054:1601	LD D, 01
8056:DD62	LD IXH, D
8058:212C58	LD HL, 582C
805B:CDAD80	CALL 80AD
805E:20A0	JR NZ, 8000
8060:		label MainLoopResetFlag
8060:B4		OR H
8061:08		EX AF, AF'
8062:		label MainLoop
8062:7B		LD A, E
8063:CDA980	CALL 80A9
8066:76		HALT
8067:08		EX AF, AF'
8068:28B8	JR Z, 8022
806A:CDA680	CALL 80A6
806D:D5		PUSH DE
806E:E5		PUSH HL
806F:01FEDF	LD BC, DFFE
8072:ED78	IN A, (C)
8074:CB5F	BIT 3, A
8076:2817	JR Z, 808F
8078:2F		CPL
8079:47		LD B, A
807A:DDAD	XOR IXL
807C:DD68	LD IXL, B
807E:A0		AND B
807F:1F		RRA
8080:3001	JR NC, 8083
8082:23		INC HL
8083:		label _NoRight
8083:1F		RRA
8084:3001	JR NC, 8087
8086:2B		DEC HL
8087:		label _NoLeft
8087:1F		RRA
8088:3001	JR NC, 808B
808A:14		INC D
808B:		label _NoRotate
808B:		label _DropDelay
808B:DD25	DEC IXH
808D:200B	JR NZ, 809A
808F:		label _DroppingDown
808F:E1		POP HL
8090:D1		POP DE
8091:D5		PUSH DE
8092:E5		PUSH HL
8093:012000	LD BC, 0020
8096:09		ADD HL, BC
8097:DD2610	LD IXH, 10
809A:		label _NotDropping
809A:08		EX AF, AF'
809B:CDAD80	CALL 80AD
809E:D9		EXX
809F:E1		POP HL
80A0:D1		POP DE
80A1:20BF	JR NZ, 8062
80A3:D9		EXX
80A4:18BA	JR 8060
80A6:		label ClearPiece
80A6:AF		XOR A
80A7:D3FE	OUT (FE), A
80A9:		label DrawPiece
80A9:0677	LD B, 77
80AB:1803	JR 80B0
80AD:		label TestPiece
80AD:06B6	LD B, B6
80AF:AF		XOR A
80B0:		label BlockFunction
80B0:D5		PUSH DE
80B1:E5		PUSH HL
80B2:F5		PUSH AF
80B3:21EB80	LD HL, 80EB
80B6:70		LD (HL), B
80B7:21F880	LD HL, 80F8
80BA:		label BlockNum
80BA:010100	LD BC, 0001
80BD:09		ADD HL, BC
80BE:7A		LD A, D
80BF:E603	AND 03
80C1:3C		INC A
80C2:17		RLA
80C3:4F		LD C, A
80C4:46		LD B, (HL)
80C5:AF		XOR A
80C6:ED6F	RLD
80C8:5E		LD E, (HL)
80C9:70		LD (HL), B
80CA:		label _Twiddle1
80CA:0608	LD B, 08
80CC:		label _Twiddle2
80CC:CB13	RL E
80CE:17		RLA
80CF:CB1C	RR H
80D1:CB13	RL E
80D3:17		RLA
80D4:CB1D	RR L
80D6:10F4	DJNZ 80CC
80D8:EB		EX DE, HL
80D9:7A		LD A, D
80DA:0D		DEC C
80DB:20ED	JR NZ, 80CA
80DD:		label BlockPosition
80DD:F1		POP AF
80DE:E1		POP HL
80DF:E5		PUSH HL
80E0:0604	LD B, 04
80E2:		label _Loop1
80E2:C5		PUSH BC
80E3:0604	LD B, 04
80E5:		label _Loop2
80E5:CB23	SLA E
80E7:CB12	RL D
80E9:3001	JR NC, 80EC
80EB:77		LD (HL), A
80EC:		label NoData
80EC:2C		INC L
80ED:10F6	DJNZ 80E5
80EF:0E1C	LD C, 1C
80F1:09		ADD HL, BC
80F2:C1		POP BC
80F3:10ED	DJNZ 80E2
80F5:E1		POP HL
80F6:D1		POP DE
80F7:A7		AND A
80F8:C9		RET
Blocks		EQU 80F8
80F9:C6		DEFB of 1 bytes
80FA:36		DEFB of 1 bytes
80FB:66		DEFB of 1 bytes
80FC:E8		DEFB of 1 bytes
80FD:E2		DEFB of 1 bytes
80FE:4E		DEFB of 1 bytes
80FF:F0		DEFB of 1 bytes
		ORG 8100
STAR		EQU 00FF
ASTEROID	EQU 0008
MAX_ASTEROIDS	EQU 00D9
8100:		label startpoint
8100:FB		EI
8101:215B5F	LD HL, 5F5B
8104:D9		EXX
8105:		label start_game
8105:3E08	LD A, 08
8107:328881	LD (8188), A
810A:329781	LD (8197), A
810D:3EDD	LD A, DD
810F:322881	LD (8128), A
8112:1600	LD D, 00
8114:		label loop
8114:01FEBF	LD BC, BFFE
8117:ED78	IN A, (C)
8119:1F		RRA
811A:30E9	JR NC, 8105
811C:		label clr_buf
811C:AF		XOR A
811D:26DD	LD H, DD
811F:		label clrloop
811F:6A		LD L, D
8120:77		LD (HL), A
8121:2D		DEC L
8122:20FC	JR NZ, 8120
8124:24		INC H
8125:20F8	JR NZ, 811F
8127:		label update
8127:2EDA	LD L, DA
8129:		label updloop
8129:26DD	LD H, DD
812B:7E		LD A, (HL)
812C:24		INC H
812D:86		ADD A, (HL)
812E:77		LD (HL), A
812F:57		LD D, A
8130:203D	JR NZ, 816F
8132:		label rand
8132:D9		EXX
8133:7C		LD A, H
8134:1F		RRA
8135:0F		RRCA
8136:0F		RRCA
8137:AD		XOR L
8138:1F		RRA
8139:CB11	RL C
813B:ED6A	ADC HL, HL
813D:D9		EXX
813E:E63F	AND 3F
8140:5F		LD E, A
8141:E603	AND 03
8143:17		RLA
8144:84		ADD A, H
8145:57		LD D, A
8146:7D		LD A, L
8147:BC		CP H
8148:010001	LD BC, 0100
814B:3012	JR NC, 815F
814D:CB83	RES 0, E
814F:0C		INC C
8150:7B		LD A, E
8151:FE10	CP 10
8153:3806	JR C, 815B
8155:0D		DEC C
8156:FE30	CP 30
8158:3801	JR C, 815B
815A:0D		DEC C
815B:		label asteroids
815B:3E08	LD A, 08
815D:1806	JR 8165
815F:		label init_star
815F:1F		RRA
8160:3EFF	LD A, FF
8162:3001	JR NC, 8165
8164:04		INC B
8165:		label init_object
8165:25		DEC H
8166:70		LD (HL), B
8167:24		INC H
8168:72		LD (HL), D
8169:24		INC H
816A:71		LD (HL), C
816B:24		INC H
816C:73		LD (HL), E
816D:24		INC H
816E:77		LD (HL), A
816F:		label update_normal
816F:26DF	LD H, DF
8171:7E		LD A, (HL)
8172:24		INC H
8173:86		ADD A, (HL)
8174:77		LD (HL), A
8175:24		INC H
8176:5F		LD E, A
8177:7E		LD A, (HL)
8178:12		LD (DE), A
8179:FE08	CP 08
817B:2006	JR NZ, 8183
817D:1C		INC E
817E:12		LD (DE), A
817F:14		INC D
8180:12		LD (DE), A
8181:1D		DEC E
8182:12		LD (DE), A
8183:		label nextspr
8183:2C		INC L
8184:20A3	JR NZ, 8129
8186:		label player1
8186:111E00	LD DE, 001E
8189:0150F7	LD BC, F750
818C:2E11	LD L, 11
818E:CDC481	CALL 81C4
8191:ED538781	LD (8187), DE
8195:		label player2
8195:112100	LD DE, 0021
8198:0160FD	LD BC, FD60
819B:2E2E	LD L, 2E
819D:CDC481	CALL 81C4
81A0:ED539681	LD (8196), DE
81A4:76		HALT
81A5:DD2D	DEC IXL
81A7:2009	JR NZ, 81B2
81A9:212881	LD HL, 8128
81AC:7E		LD A, (HL)
81AD:FED9	CP D9
81AF:2801	JR Z, 81B2
81B1:35		DEC (HL)
81B2:		label no_incr
81B2:		label moveonscr
81B2:110058	LD DE, 5800
81B5:26E6	LD H, E6
81B7:		label movloop
81B7:012000	LD BC, 0020
81BA:2E10	LD L, 10
81BC:EDB0	LDIR
81BE:24		INC H
81BF:20F6	JR NZ, 81B7
81C1:C31481	JP 8114
81C4:		label player
81C4:14		INC D
81C5:15		DEC D
81C6:C8		RET Z
81C7:C5		PUSH BC
81C8:42		LD B, D
81C9:26E7	LD H, E7
81CB:		label barloop
81CB:71		LD (HL), C
81CC:2C		INC L
81CD:CB6D	BIT 5, L
81CF:2802	JR Z, 81D3
81D1:2D		DEC L
81D2:2D		DEC L
81D3:		label barend
81D3:10F6	DJNZ 81CB
81D5:6B		LD L, E
81D6:26FB	LD H, FB
81D8:71		LD (HL), C
81D9:24		INC H
81DA:2C		INC L
81DB:0603	LD B, 03
81DD:		label check
81DD:7E		LD A, (HL)
81DE:FE08	CP 08
81E0:2003	JR NZ, 81E5
81E2:15		DEC D
81E3:2804	JR Z, 81E9
81E5:		label draw
81E5:71		LD (HL), C
81E6:2D		DEC L
81E7:10F4	DJNZ 81DD
81E9:		label cont
81E9:C1		POP BC
81EA:0EFE	LD C, FE
81EC:ED78	IN A, (C)
81EE:1F		RRA
81EF:3806	JR C, 81F7
81F1:7B		LD A, E
81F2:FE12	CP 12
81F4:C8		RET Z
81F5:1D		DEC E
81F6:C9		RET
81F7:		label isright
81F7:1F		RRA
81F8:D8		RET C
81F9:7B		LD A, E
81FA:FE2D	CP 2D
81FC:C8		RET Z
81FD:1C		INC E
81FE:C9		RET
PROGSTART	EQU 8200
		ORG 8200
PLAYER_COLOR	EQU 0008
AI_COLOR	EQU 0010
MASK_COLOR	EQU 0038
8200:		label MOVE
8200:C5		PUSH BC
8201:D5		PUSH DE
8202:011F00	LD BC, 001F
8205:0F		RRCA
8206:57		LD D, A
8207:7D		LD A, L
8208:98		SBC A, B
8209:CB3A	SRL D
820B:88		ADC A, B
820C:A1		AND C
820D:AD		XOR L
820E:A1		AND C
820F:AD		XOR L
8210:6F		LD L, A
8211:CB3A	SRL D
8213:3002	JR NC, 8217
8215:ED4A	ADC HL, BC
8217:		label P_UP
8217:CB3A	SRL D
8219:3002	JR NC, 821D
821B:ED42	SBC HL, BC
821D:		label P_FIRE
821D:7C		LD A, H
821E:FE57	CP 57
8220:2002	JR NZ, 8224
8222:265A	LD H, 5A
8224:		label P_NO_UNDERFLOW
8224:FE5B	CP 5B
8226:2002	JR NZ, 822A
8228:2658	LD H, 58
822A:		label P_NO_OVERFLOW
822A:CB3A	SRL D
822C:D1		POP DE
822D:C1		POP BC
822E:D0		RET NC
822F:7E		LD A, (HL)
8230:B7		OR A
8231:C0		RET NZ
8232:3608	LD (HL), 08
8234:210058	LD HL, 5800
8237:4D		LD C, L
8238:E5		PUSH HL
8239:		label BRAIN_LOOP
8239:DD2600	LD IXH, 00
823C:11EB82	LD DE, 82EB
823F:		label CV_LOOP
823F:13		INC DE
8240:E5		PUSH HL
8241:0605	LD B, 05
8243:		label EL_TO_EDGE
8243:1A		LD A, (DE)
8244:CD0082	CALL 8200
8247:10FA	DJNZ 8243
8249:13		INC DE
824A:D9		EXX
824B:010009	LD BC, 0900
824E:211000	LD HL, 0010
8251:51		LD D, C
8252:59		LD E, C
8253:DD69	LD IXL, C
8255:		label EL_LOOP
8255:DD2C	INC IXL
8257:D9		EXX
8258:1A		LD A, (DE)
8259:CD0082	CALL 8200
825C:7E		LD A, (HL)
825D:E638	AND 38
825F:D9		EXX
8260:200E	JR NZ, 8270
8262:1C		INC E
8263:29		ADD HL, HL
8264:78		LD A, B
8265:FE05	CP 05
8267:2832	JR Z, 829B
8269:19		ADD HL, DE
826A:54		LD D, H
826B:211000	LD HL, 0010
826E:182B	JR 829B
8270:		label EL_FOUND_STONE
8270:B9		CP C
8271:2813	JR Z, 8286
8273:0C		INC C
8274:0D		DEC C
8275:4F		LD C, A
8276:280E	JR Z, 8286
8278:CDE282	CALL 82E2
827B:210800	LD HL, 0008
827E:54		LD D, H
827F:1C		INC E
8280:DD6B	LD IXL, E
8282:1D		DEC E
8283:2801	JR Z, 8286
8285:29		ADD HL, HL
8286:		label EL_IDENTIC
8286:1E00	LD E, 00
8288:29		ADD HL, HL
8289:29		ADD HL, HL
828A:7C		LD A, H
828B:FE20	CP 20
828D:380C	JR C, 829B
828F:E3		EX (SP), HL
8290:7E		LD A, (HL)
8291:B7		OR A
8292:2806	JR Z, 829A
8294:CBF6	SET 6, (HL)
8296:D9		EXX
8297:0EFF	LD C, FF
8299:D9		EXX
829A:		label EL_5_NOT_FOUND
829A:E3		EX (SP), HL
829B:		label EL_NEXT
829B:10B8	DJNZ 8255
829D:29		ADD HL, HL
829E:CDE282	CALL 82E2
82A1:D9		EXX
82A2:E1		POP HL
82A3:1A		LD A, (DE)
82A4:3D		DEC A
82A5:2098	JR NZ, 823F
82A7:7E		LD A, (HL)
82A8:B7		OR A
82A9:2008	JR NZ, 82B3
82AB:DD7C	LD A, IXH
82AD:B9		CP C
82AE:3803	JR C, 82B3
82B0:D1		POP DE
82B1:E5		PUSH HL
82B2:4F		LD C, A
82B3:		label B_NEXT
82B3:23		INC HL
82B4:3E5B	LD A, 5B
82B6:BC		CP H
82B7:C23982	JP NZ, 8239
82BA:0C		INC C
82BB:E1		POP HL
82BC:3610	LD (HL), 10
82BE:C0		RET NZ
82BF:71		LD (HL), C
82C0:		label REPEAT_GAME
82C0:E1		POP HL
82C1:		label NEW_GAME
82C1:210040	LD HL, 4000
82C4:3E5B	LD A, 5B
82C6:		label CLEAR_LOOP
82C6:3600	LD (HL), 00
82C8:23		INC HL
82C9:BC		CP H
82CA:20FA	JR NZ, 82C6
82CC:218F59	LD HL, 598F
82CF:3610	LD (HL), 10
82D1:		label READ_INPUT
82D1:5E		LD E, (HL)
82D2:36B8	LD (HL), B8
82D4:01FEF7	LD BC, F7FE
82D7:ED78	IN A, (C)
82D9:2F		CPL
82DA:BA		CP D
82DB:57		LD D, A
82DC:73		LD (HL), E
82DD:C40082	CALL NZ, 8200
82E0:18EF	JR 82D1
82E2:		label ADD_VALUE_SERIES
82E2:DD7D	LD A, IXL
82E4:FE06	CP 06
82E6:D8		RET C
82E7:19		ADD HL, DE
82E8:54		LD D, H
82E9:DD19	ADD IX, DE
82EB:C9		RET
82EC:		label DATA_DIRECTION
82EC:09060A05	DEFB of 8 bytes
82F0:08040201
carx		EQU C000
roadx		EQU C001
gameframe	EQU C002
roadw		EQU C003
score		EQU C100
		ORG 8300
8300:		label numbers
8300:EB		DEFB of 1 bytes
8301:AA		DEFB of 1 bytes
8302:DB		DEFB of 1 bytes
8303:77		DEFB of 1 bytes
8304:BD		DEFB of 1 bytes
8305:E7		DEFB of 1 bytes
8306:AF		DEFB of 1 bytes
8307:D5		DEFB of 1 bytes
8308:E7		DEFB of 1 bytes
8309:F5		DEFB of 1 bytes
830A:		label start
830A:		label .menu
830A:3EBF	LD A, BF
830C:DBFE	IN A, (FE)
830E:1F		RRA
830F:38F9	JR C, 830A
8311:2100C0	LD HL, C000
8314:360F	LD (HL), 0F
8316:2C		INC L
8317:3608	LD (HL), 08
8319:2E03	LD L, 03
831B:360C	LD (HL), 0C
831D:AF		XOR A
831E:CDF383	CALL 83F3
8321:2100C1	LD HL, C100
8324:		label .clrlp
8324:77		LD (HL), A
8325:2C		INC L
8326:20FC	JR NZ, 8324
8328:3E0F	LD A, 0F
832A:322E83	LD (832E), A
832D:		label .lp
832D:060F	LD B, 0F
832F:		label .lop
832F:76		HALT
8330:3A00C3	LD A, (C300)
8333:EE18	XOR 18
8335:3200C3	LD (C300), A
8338:E618	AND 18
833A:D3FE	OUT (FE), A
833C:10F1	DJNZ 832F
833E:21DF5A	LD HL, 5ADF
8341:11FF5A	LD DE, 5AFF
8344:01E002	LD BC, 02E0
8347:EDB8	LDDR
8349:210058	LD HL, 5800
834C:011F00	LD BC, 001F
834F:3E20	LD A, 20
8351:CDF983	CALL 83F9
8354:3A01C0	LD A, (C001)
8357:6F		LD L, A
8358:ED4B03C0	LD BC, (C003)
835C:0600	LD B, 00
835E:3E07	LD A, 07
8360:CDF983	CALL 83F9
8363:2A00C0	LD HL, (C000)
8366:265A	LD H, 5A
8368:7E		LD A, (HL)
8369:FE20	CP 20
836B:CA0A83	JP Z, 830A
836E:3610	LD (HL), 10
8370:3EDF	LD A, DF
8372:DBFE	IN A, (FE)
8374:4F		LD C, A
8375:7D		LD A, L
8376:CB19	RR C
8378:3805	JR C, 837F
837A:FE1F	CP 1F
837C:2801	JR Z, 837F
837E:2C		INC L
837F:		label .nr
837F:CB19	RR C
8381:3804	JR C, 8387
8383:B7		OR A
8384:2801	JR Z, 8387
8386:2D		DEC L
8387:		label .nl
8387:7D		LD A, L
8388:3200C0	LD (C000), A
838B:ED5F	LD A, R
838D:47		LD B, A
838E:		label .del
838E:10FE	DJNZ 838E
8390:ED5F	LD A, R
8392:07		RLCA
8393:07		RLCA
8394:07		RLCA
8395:E601	AND 01
8397:87		ADD A, A
8398:3D		DEC A
8399:67		LD H, A
839A:		label .ss
839A:ED4B01C0	LD BC, (C001)
839E:3E1F	LD A, 1F
83A0:91		SUB C
83A1:47		LD B, A
83A2:3A01C0	LD A, (C001)
83A5:84		ADD A, H
83A6:B7		OR A
83A7:2806	JR Z, 83AF
83A9:B8		CP B
83AA:2803	JR Z, 83AF
83AC:3201C0	LD (C001), A
83AF:		label .skp
83AF:2101C1	LD HL, C101
83B2:3E09	LD A, 09
83B4:		label .sl
83B4:34		INC (HL)
83B5:BE		CP (HL)
83B6:3005	JR NC, 83BD
83B8:3600	LD (HL), 00
83BA:2C		INC L
83BB:20F7	JR NZ, 83B4
83BD:		label .ok
83BD:110040	LD DE, 4000
83C0:2109C1	LD HL, C109
83C3:		label .sc
83C3:4E		LD C, (HL)
83C4:0683	LD B, 83
83C6:0A		LD A, (BC)
83C7:0604	LD B, 04
83C9:		label .bl
83C9:4F		LD C, A
83CA:E6C0	AND C0
83CC:12		LD (DE), A
83CD:79		LD A, C
83CE:17		RLA
83CF:17		RLA
83D0:14		INC D
83D1:10F6	DJNZ 83C9
83D3:1640	LD D, 40
83D5:1C		INC E
83D6:2D		DEC L
83D7:20EA	JR NZ, 83C3
83D9:2102C0	LD HL, C002
83DC:34		INC (HL)
83DD:2011	JR NZ, 83F0
83DF:2C		INC L
83E0:7E		LD A, (HL)
83E1:FE04	CP 04
83E3:200A	JR NZ, 83EF
83E5:3A2E83	LD A, (832E)
83E8:3D		DEC A
83E9:2805	JR Z, 83F0
83EB:322E83	LD (832E), A
83EE:3E		DEFB of 1 bytes
83EF:		label .skp2
83EF:35		DEC (HL)
83F0:		label .skp1
83F0:C32D83	JP 832D
83F3:		label cls_car
83F3:210058	LD HL, 5800
83F6:01FF02	LD BC, 02FF
83F9:		label fill
83F9:54		LD D, H
83FA:5D		LD E, L
83FB:13		INC DE
83FC:77		LD (HL), A
83FD:EDB0	LDIR
83FF:C9		RET
ASTEROID_MEM	EQU 8400
		ORG 8400
8400:		label ship
8400:18		DEFB of 1 bytes
8401:24		DEFB of 1 bytes
8402:42		DEFB of 1 bytes
8403:99		DEFB of 1 bytes
8404:E7		DEFB of 1 bytes
8405:3C		DEFB of 1 bytes
8406:24		DEFB of 1 bytes
8407:3C		DEFB of 1 bytes
8408:04		DEFB of 1 bytes
8409:04		DEFB of 1 bytes
840A:3C		DEFB of 1 bytes
840B:24		DEFB of 1 bytes
840C:3C		DEFB of 1 bytes
840D:24		DEFB of 1 bytes
840E:3C		DEFB of 1 bytes
840F:3C		DEFB of 1 bytes
8410:04		DEFB of 1 bytes
8411:04		DEFB of 1 bytes
8412:04		DEFB of 1 bytes
8413:04		DEFB of 1 bytes
8414:3C		DEFB of 1 bytes
8415:20		DEFB of 1 bytes
8416:3C		DEFB of 1 bytes
8417:24		DEFB of 1 bytes
8418:3C		DEFB of 1 bytes
8419:3C		DEFB of 1 bytes
841A:20		DEFB of 1 bytes
841B:3C		DEFB of 1 bytes
841C:04		DEFB of 1 bytes
841D:3C		DEFB of 1 bytes
841E:24		DEFB of 1 bytes
841F:24		DEFB of 1 bytes
8420:3C		DEFB of 1 bytes
8421:04		DEFB of 1 bytes
8422:04		DEFB of 1 bytes
8423:3C		DEFB of 1 bytes
8424:04		DEFB of 1 bytes
8425:3C		DEFB of 1 bytes
8426:04		DEFB of 1 bytes
8427:3C		DEFB of 1 bytes
8428:3C		DEFB of 1 bytes
8429:04		DEFB of 1 bytes
842A:3C		DEFB of 1 bytes
842B:20		DEFB of 1 bytes
842C:3C		DEFB of 1 bytes
842D:04		DEFB of 1 bytes
842E:04		DEFB of 1 bytes
842F:04		DEFB of 1 bytes
8430:04		DEFB of 1 bytes
8431:04		DEFB of 1 bytes
8432:3C		DEFB of 1 bytes
8433:24		DEFB of 1 bytes
8434:24		DEFB of 1 bytes
8435:24		DEFB of 1 bytes
8436:3C		DEFB of 1 bytes
8437:		label rock
8437:2C		DEFB of 1 bytes
8438:5A		DEFB of 1 bytes
8439:82		DEFB of 1 bytes
843A:99		DEFB of 1 bytes
843B:66		DEFB of 1 bytes
asteroid_score	EQU FA00
843C:		label asteroid_start
843C:DBFE	IN A, (FE)
843E:E610	AND 10
8440:20FA	JR NZ, 843C
8442:		label asteroid_cls
8442:11FF5A	LD DE, 5AFF
8445:2107FA	LD HL, FA07
8448:		label asteroid_cls1
8448:3E57	LD A, 57
844A:BA		CP D
844B:9F		SBC A, A
844C:A5		AND L
844D:12		LD (DE), A
844E:1B		DEC DE
844F:CB72	BIT 6, D
8451:20F5	JR NZ, 8448
8453:		label clscore
8453:2D		DEC L
8454:360A	LD (HL), 0A
8456:20FB	JR NZ, 8453
8458:		label scroll
8458:20E2	JR NZ, 843C
845A:0180BF	LD BC, BF80
845D:		label scr1
845D:CDCE84	CALL 84CE
8460:EB		EX DE, HL
8461:C5		PUSH BC
8462:78		LD A, B
8463:D606	SUB 06
8465:		label onscreen
8465:47		LD B, A
8466:D4CE84	CALL NC, 84CE
8469:011000	LD BC, 0010
846C:EDB0	LDIR
846E:C1		POP BC
846F:10EC	DJNZ 845D
8471:0603	LD B, 03
8473:ED5F	LD A, R
8475:		label rnd
8475:C600	ADD A, 00
8477:4F		LD C, A
8478:0F		RRCA
8479:0F		RRCA
847A:0F		RRCA
847B:EE1F	XOR 1F
847D:81		ADD A, C
847E:DEFF	SBC A, FF
8480:327684	LD (8476), A
8483:F680	OR 80
8485:4F		LD C, A
8486:1E37	LD E, 37
8488:CDE684	CALL 84E6
848B:2107FA	LD HL, FA07
848E:		label tens
848E:360A	LD (HL), 0A
8490:2B		DEC HL
8491:35		DEC (HL)
8492:28FA	JR Z, 848E
8494:2E06	LD L, 06
8496:013003	LD BC, 0330
8499:		label scdisp
8499:7E		LD A, (HL)
849A:87		ADD A, A
849B:87		ADD A, A
849C:86		ADD A, (HL)
849D:5F		LD E, A
849E:E5		PUSH HL
849F:CDE684	CALL 84E6
84A2:E1		POP HL
84A3:2B		DEC HL
84A4:79		LD A, C
84A5:D3FE	OUT (FE), A
84A7:D608	SUB 08
84A9:4F		LD C, A
84AA:30ED	JR NC, 8499
84AC:DBFE	IN A, (FE)
84AE:1F		RRA
84AF:3003	JR NC, 84B4
84B1:0E08	LD C, 08
84B3:1F		RRA
84B4:		label xposship
84B4:3EC8	LD A, C8
84B6:3806	JR C, 84BE
84B8:81		ADD A, C
84B9:FE7F	CP 7F
84BB:3001	JR NC, 84BE
84BD:91		SUB C
84BE:		label okmove
84BE:32B584	LD (84B5), A
84C1:4F		LD C, A
84C2:06BB	LD B, BB
84C4:AF		XOR A
84C5:5F		LD E, A
84C6:3D		DEC A
84C7:		label prship
84C7:CDE784	CALL 84E7
84CA:76		HALT
84CB:76		HALT
84CC:188A	JR 8458
84CE:		label field
84CE:78		LD A, B
84CF:A7		AND A
84D0:1F		RRA
84D1:37		SCF
84D2:1F		RRA
84D3:A7		AND A
84D4:1F		RRA
84D5:A8		XOR B
84D6:E6F8	AND F8
84D8:A8		XOR B
84D9:67		LD H, A
84DA:79		LD A, C
84DB:07		RLCA
84DC:07		RLCA
84DD:07		RLCA
84DE:A8		XOR B
84DF:E6C7	AND C7
84E1:A8		XOR B
84E2:07		RLCA
84E3:07		RLCA
84E4:6F		LD L, A
84E5:C9		RET
84E6:		label disp
84E6:AF		XOR A
84E7:		label dispship
84E7:32F784	LD (84F7), A
84EA:CDCE84	CALL 84CE
84ED:		label dloop
84ED:1684	LD D, 84
84EF:1A		LD A, (DE)
84F0:1C		INC E
84F1:56		LD D, (HL)
84F2:77		LD (HL), A
84F3:B2		OR D
84F4:AA		XOR D
84F5:96		SUB (HL)
84F6:		label col
84F6:E600	AND 00
84F8:C0		RET NZ
84F9:		label nohit
84F9:24		INC H
84FA:7C		LD A, H
84FB:E607	AND 07
84FD:20EE	JR NZ, 84ED
84FF:C9		RET
		ORG 8500
8500:		label snake_start
8500:DD7E03	LD A, (IX+03)
8503:D3FE	OUT (FE), A
8505:		label w4enter
8505:AF		XOR A
8506:DBFE	IN A, (FE)
8508:E610	AND 10
850A:20F9	JR NZ, 8505
850C:32E485	LD (85E4), A
850F:		label snake_cls
850F:11FF5A	LD DE, 5AFF
8512:		label snake_cls1
8512:12		LD (DE), A
8513:CBFA	SET 7, D
8515:12		LD (DE), A
8516:CBBA	RES 7, D
8518:1B		DEC DE
8519:CB72	BIT 6, D
851B:20F5	JR NZ, 8512
851D:67		LD H, A
851E:6F		LD L, A
851F:22FB85	LD (85FB), HL
8522:		label startxy
8522:011C08	LD BC, 081C
8525:59		LD E, C
8526:D9		EXX
8527:010808	LD BC, 0808
852A:59		LD E, C
852B:		label gameloop
852B:DD21FB85	LD IX, 85FB
852F:3160EA	LD SP, EA60
8532:		label gameloop2
8532:C5		PUSH BC
8533:04		INC B
8534:0C		INC C
8535:21FF57	LD HL, 57FF
8538:		label ffield
8538:23		INC HL
8539:0D		DEC C
853A:20FC	JR NZ, 8538
853C:0E20	LD C, 20
853E:10F8	DJNZ 8538
8540:7E		LD A, (HL)
8541:DD4602	LD B, (IX+02)
8544:70		LD (HL), B
8545:B7		OR A
8546:20B8	JR NZ, 8500
8548:CBFC	SET 7, H
854A:73		LD (HL), E
854B:41		LD B, C
854C:		label findtail
854C:0B		DEC BC
854D:78		LD A, B
854E:B1		OR C
854F:28AF	JR Z, 8500
8551:7E		LD A, (HL)
8552:D621	SUB 21
8554:5F		LD E, A
8555:9F		SBC A, A
8556:57		LD D, A
8557:19		ADD HL, DE
8558:7E		LD A, (HL)
8559:B7		OR A
855A:20F0	JR NZ, 854C
855C:ED52	SBC HL, DE
855E:C1		POP BC
855F:E5		PUSH HL
8560:16FE	LD D, FE
8562:DD		DEFB of 1 bytes
8563:7D		LD A, L
8564:FEFB	CP FB
8566:201C	JR NZ, 8584
8568:		label keybpl1
8568:3EFB	LD A, FB
856A:DBFE	IN A, (FE)
856C:CB4F	BIT 1, A
856E:2837	JR Z, 85A7
8570:3EFD	LD A, FD
8572:DBFE	IN A, (FE)
8574:1F		RRA
8575:302C	JR NC, 85A3
8577:1F		RRA
8578:3027	JR NC, 85A1
857A:3EFE	LD A, FE
857C:D3FE	OUT (FE), A
857E:DBFE	IN A, (FE)
8580:CB4F	BIT 1, A
8582:181A	JR 859E
8584:		label keybpl2
8584:3EDF	LD A, DF
8586:DBFE	IN A, (FE)
8588:CB57	BIT 2, A
858A:281B	JR Z, 85A7
858C:3EBF	LD A, BF
858E:DBFE	IN A, (FE)
8590:CB57	BIT 2, A
8592:280D	JR Z, 85A1
8594:CB5F	BIT 3, A
8596:280B	JR Z, 85A3
8598:3E7F	LD A, 7F
859A:DBFE	IN A, (FE)
859C:CB57	BIT 2, A
859E:		label downtest
859E:2805	JR Z, 85A5
85A0:		label nokey
85A0:14		INC D
85A1:		label kright
85A1:CB02	RLC D
85A3:		label kleft
85A3:CB02	RLC D
85A5:		label kdown
85A5:CB02	RLC D
85A7:		label kup
85A7:7A		LD A, D
85A8:		label keyread
85A8:57		LD D, A
85A9:1F		RRA
85AA:1E41	LD E, 41
85AC:3016	JR NC, 85C4
85AE:1F		RRA
85AF:1E01	LD E, 01
85B1:3013	JR NC, 85C6
85B3:1F		RRA
85B4:1E22	LD E, 22
85B6:300A	JR NC, 85C2
85B8:1F		RRA
85B9:1E20	LD E, 20
85BB:DD7E00	LD A, (IX+00)
85BE:38E8	JR C, 85A8
85C0:		label right
85C0:0C		INC C
85C1:3E		DEFB of 1 bytes
85C2:		label left
85C2:0D		DEC C
85C3:3E		DEFB of 1 bytes
85C4:		label up
85C4:05		DEC B
85C5:3E		DEFB of 1 bytes
85C6:		label down
85C6:04		INC B
85C7:78		LD A, B
85C8:FE18	CP 18
85CA:		label jrdead
85CA:D20085	JP NC, 8500
85CD:79		LD A, C
85CE:FE20	CP 20
85D0:30F8	JR NC, 85CA
85D2:		label setmove
85D2:7A		LD A, D
85D3:DD7700	LD (IX+00), A
85D6:D9		EXX
85D7:DD		DEFB of 1 bytes
85D8:7D		LD A, L
85D9:FEFB	CP FB
85DB:DD23	INC IX
85DD:CA3285	JP Z, 8532
85E0:76		HALT
85E1:76		HALT
85E2:76		HALT
85E3:		label trcnt
85E3:3E00	LD A, 00
85E5:3C		INC A
85E6:E61F	AND 1F
85E8:32E485	LD (85E4), A
85EB:E1		POP HL
85EC:280A	JR Z, 85F8
85EE:		label erase
85EE:AF		XOR A
85EF:77		LD (HL), A
85F0:CBBC	RES 7, H
85F2:77		LD (HL), A
85F3:E1		POP HL
85F4:77		LD (HL), A
85F5:CBBC	RES 7, H
85F7:77		LD (HL), A
85F8:		label noerase
85F8:C32B85	JP 852B
85FB:		label init
85FB:0000	DEFB of 2 bytes
85FD:242D	DEFB of 2 bytes
85FF:24		DEFB of 1 bytes
8600:		label ccc
		ORG 8600
K_ATTR_ADDR	EQU 5800
K_ATTR_BUFFER	EQU AF00
K_SCORE_ATT	EQU B2AA
K_GRAVITY	EQU 0AFF
K_BIRDX		EQU 0000
K_BIRDY		EQU 0005
K_BLANK		EQU 0000
K_BIRD		EQU 0020
K_WALL		EQU 0018
K_SCORE		EQU 0008
K_COLDB		EQU A028
K_XSTART	EQU 0000
K_XGAP		EQU 0008
K_ENDCOL	EQU 001F
8600:		label bird_x
8600:00		DEFB of 1 bytes
8601:		label bird_y
8601:05		DEFB of 1 bytes
8602:		label score_fbird
8602:01		DEFB of 1 bytes
8603:		label gravcount
8603:FF0A	DEFW of 1 words
8605:		label lastkey
8605:00		DEFB of 1 bytes
8606:CDBF86	CALL 86BF
8609:		label mainloop
8609:CD1C86	CALL 861C
860C:CD2F86	CALL 862F
860F:C8		RET Z
8610:18F7	JR 8609
8612:		label updateloop
8612:CD4786	CALL 8647
8615:CDF186	CALL 86F1
8618:CD7E86	CALL 867E
861B:C9		RET
861C:		label keypress
861C:3A0586	LD A, (8605)
861F:47		LD B, A
8620:AF		XOR A
8621:DBFE	IN A, (FE)
8623:E61F	AND 1F
8625:B8		CP B
8626:C8		RET Z
8627:320586	LD (8605), A
862A:		label flap
862A:210186	LD HL, 8601
862D:35		DEC (HL)
862E:		label endflap
862E:C9		RET
862F:		label chkgrav
862F:ED4B0386	LD BC, (8603)
8633:0B		DEC BC
8634:79		LD A, C
8635:B0		OR B
8636:200A	JR NZ, 8642
8638:01FF0A	LD BC, 0AFF
863B:CD4286	CALL 8642
863E:CD1286	CALL 8612
8641:C9		RET
8642:		label SAVGRAV
8642:ED430386	LD (8603), BC
8646:C9		RET
8647:		label applygravity
8647:210186	LD HL, 8601
864A:34		INC (HL)
864B:		label endgrav
864B:		label clrbuffer
864B:1101AF	LD DE, AF01
864E:2100AF	LD HL, AF00
8651:3600	LD (HL), 00
8653:01FF02	LD BC, 02FF
8656:EDB0	LDIR
8658:ED5B0086	LD DE, (8600)
865C:3E20	LD A, 20
865E:CDA986	CALL 86A9
8661:		label drawcolumns
8661:DD2128A0	LD IX, A028
8665:0600	LD B, 00
8667:		label getnext
8667:DD5600	LD D, (IX+00)
866A:DD23	INC IX
866C:DD5E00	LD E, (IX+00)
866F:3E18	LD A, 18
8671:CDA986	CALL 86A9
8674:DD23	INC IX
8676:DD7E00	LD A, (IX+00)
8679:FEFF	CP FF
867B:20EA	JR NZ, 8667
867D:C9		RET
867E:		label mvcl
867E:2129A0	LD HL, A029
8681:		label mvnxt
8681:3EFF	LD A, FF
8683:BE		CP (HL)
8684:2816	JR Z, 869C
8686:35		DEC (HL)
8687:BE		CP (HL)
8688:2802	JR Z, 868C
868A:180C	JR 8698
868C:		label wrap
868C:0601	LD B, 01
868E:361F	LD (HL), 1F
8690:2B		DEC HL
8691:3A0186	LD A, (8601)
8694:BE		CP (HL)
8695:2810	JR Z, 86A7
8697:23		INC HL
8698:		label nowrap
8698:23		INC HL
8699:23		INC HL
869A:18E5	JR 8681
869C:		label endmvcl
869C:3E01	LD A, 01
869E:A8		XOR B
869F:C2A686	JP NZ, 86A6
86A2:210286	LD HL, 8602
86A5:34		INC (HL)
86A6:		label donemv
86A6:C9		RET
86A7:		label kill
86A7:AF		XOR A
86A8:C9		RET
86A9:		label drawpoint
86A9:F5		PUSH AF
86AA:7A		LD A, D
86AB:CB2F	SRA A
86AD:CB2F	SRA A
86AF:CB2F	SRA A
86B1:C6AF	ADD A, AF
86B3:67		LD H, A
86B4:7A		LD A, D
86B5:E607	AND 07
86B7:0F		RRCA
86B8:0F		RRCA
86B9:0F		RRCA
86BA:83		ADD A, E
86BB:6F		LD L, A
86BC:F1		POP AF
86BD:77		LD (HL), A
86BE:C9		RET
86BF:		label builddbnew
86BF:0E05	LD C, 05
86C1:1600	LD D, 00
86C3:2128A0	LD HL, A028
86C6:		label newcol
86C6:0616	LD B, 16
86C8:3E06	LD A, 06
86CA:82		ADD A, D
86CB:57		LD D, A
86CC:ED5F	LD A, R
86CE:E60F	AND 0F
86D0:F608	OR 08
86D2:		label ldxy
86D2:B8		CP B
86D3:CADD86	JP Z, 86DD
86D6:70		LD (HL), B
86D7:23		INC HL
86D8:72		LD (HL), D
86D9:23		INC HL
86DA:C3DF86	JP 86DF
86DD:		label skipgap
86DD:CB18	RR B
86DF:		label nextrow
86DF:10F1	DJNZ 86D2
86E1:70		LD (HL), B
86E2:23		INC HL
86E3:72		LD (HL), D
86E4:23		INC HL
86E5:0D		DEC C
86E6:AF		XOR A
86E7:B9		CP C
86E8:C2C686	JP NZ, 86C6
86EB:36FF	LD (HL), FF
86ED:23		INC HL
86EE:36FF	LD (HL), FF
86F0:C9		RET
86F1:		label refreshScreen
86F1:110058	LD DE, 5800
86F4:2100AF	LD HL, AF00
86F7:010003	LD BC, 0300
86FA:EDB0	LDIR
86FC:C9		RET
		ORG 8700
LEFT		EQU 0001
RIGHT		EQU 0000
DOWNB		EQU 0002
PLATSIZE	EQU 0005
B_BLUE		EQU 0005
B_RED		EQU 0002
YEL_SHIP	EQU 0030
MAG_PLAT	EQU 0018
8700:DD21F887	LD IX, 87F8
8704:112000	LD DE, 0020
8707:		label main_loop
8707:CDC287	CALL 87C2
870A:76		HALT
870B:76		HALT
870C:76		HALT
870D:76		HALT
870E:01FE7F	LD BC, 7FFE
8711:ED78	IN A, (C)
8713:1F		RRA
8714:3804	JR C, 871A
8716:DD360402	LD (IX+04), 02
871A:		label cont_next
871A:DD7E01	LD A, (IX+01)
871D:FE12	CP 12
871F:3840	JR C, 8761
8721:2AFE87	LD HL, (87FE)
8724:19		ADD HL, DE
8725:7E		LD A, (HL)
8726:FE18	CP 18
8728:0602	LD B, 02
872A:200C	JR NZ, 8738
872C:2B		DEC HL
872D:2B		DEC HL
872E:7E		LD A, (HL)
872F:FE18	CP 18
8731:2005	JR NZ, 8738
8733:0605	LD B, 05
8735:DD3405	INC (IX+05)
8738:		label missed
8738:78		LD A, B
8739:D3FE	OUT (FE), A
873B:210040	LD HL, 4000
873E:3E5B	LD A, 5B
8740:		label cls
8740:72		LD (HL), D
8741:23		INC HL
8742:BC		CP H
8743:20FB	JR NZ, 8740
8745:2658	LD H, 58
8747:6A		LD L, D
8748:DD7E05	LD A, (IX+05)
874B:E61F	AND 1F
874D:47		LD B, A
874E:04		INC B
874F:		label score_loop
874F:73		LD (HL), E
8750:23		INC HL
8751:10FC	DJNZ 874F
8753:DD7E00	LD A, (IX+00)
8756:1F		RRA
8757:E607	AND 07
8759:DD7701	LD (IX+01), A
875C:DD7204	LD (IX+04), D
875F:18A6	JR 8707
8761:		label cont_main
8761:CDC287	CALL 87C2
8764:DD7E04	LD A, (IX+04)
8767:A7		AND A
8768:2013	JR NZ, 877D
876A:DD7E00	LD A, (IX+00)
876D:3C		INC A
876E:FE1E	CP 1E
8770:2006	JR NZ, 8778
8772:DD360401	LD (IX+04), 01
8776:1824	JR 879C
8778:		label cont_right
8778:DD7700	LD (IX+00), A
877B:181F	JR 879C
877D:		label movesq
877D:1F		RRA
877E:3011	JR NC, 8791
8780:DD7E00	LD A, (IX+00)
8783:B7		OR A
8784:2005	JR NZ, 878B
8786:DD7204	LD (IX+04), D
8789:1811	JR 879C
878B:		label cont_left
878B:3D		DEC A
878C:DD7700	LD (IX+00), A
878F:180B	JR 879C
8791:		label movdesc
8791:DD7E01	LD A, (IX+01)
8794:3C		INC A
8795:FE13	CP 13
8797:3003	JR NC, 879C
8799:		label cont_desc
8799:DD7701	LD (IX+01), A
879C:		label atcoordp
879C:DD7E02	LD A, (IX+02)
879F:A7		AND A
87A0:200E	JR NZ, 87B0
87A2:DD7E03	LD A, (IX+03)
87A5:3C		INC A
87A6:FE1C	CP 1C
87A8:3812	JR C, 87BC
87AA:DD360201	LD (IX+02), 01
87AE:180F	JR 87BF
87B0:		label mov_left_p
87B0:DD7E03	LD A, (IX+03)
87B3:B7		OR A
87B4:2005	JR NZ, 87BB
87B6:DD7202	LD (IX+02), D
87B9:1804	JR 87BF
87BB:		label cont_esqp
87BB:3D		DEC A
87BC:		label cont_rightp
87BC:DD7703	LD (IX+03), A
87BF:		label cont_cycle
87BF:C30787	JP 8707
87C2:		label draw_graphs
87C2:214058	LD HL, 5840
87C5:DD7E01	LD A, (IX+01)
87C8:A7		AND A
87C9:2804	JR Z, 87CF
87CB:47		LD B, A
87CC:		label scr_sum
87CC:19		ADD HL, DE
87CD:10FD	DJNZ 87CC
87CF:		label scr_cont
87CF:7D		LD A, L
87D0:DD8600	ADD A, (IX+00)
87D3:6F		LD L, A
87D4:3E30	LD A, 30
87D6:23		INC HL
87D7:AE		XOR (HL)
87D8:77		LD (HL), A
87D9:19		ADD HL, DE
87DA:77		LD (HL), A
87DB:1B		DEC DE
87DC:19		ADD HL, DE
87DD:77		LD (HL), A
87DE:23		INC HL
87DF:72		LD (HL), D
87E0:23		INC HL
87E1:77		LD (HL), A
87E2:13		INC DE
87E3:22FE87	LD (87FE), HL
87E6:21E05A	LD HL, 5AE0
87E9:DD7E03	LD A, (IX+03)
87EC:85		ADD A, L
87ED:6F		LD L, A
87EE:0605	LD B, 05
87F0:7E		LD A, (HL)
87F1:EE18	XOR 18
87F3:		label drawplat
87F3:77		LD (HL), A
87F4:23		INC HL
87F5:10FC	DJNZ 87F3
87F7:C9		RET
87F8:		label plx
87F8:00		DEFB of 1 bytes
87F9:		label ply
87F9:00		DEFB of 1 bytes
87FA:		label dir_plat
87FA:01		DEFB of 1 bytes
87FB:		label platx
87FB:1B		DEFB of 1 bytes
87FC:		label dir_ship
87FC:01		DEFB of 1 bytes
87FD:		label score_v2
87FD:00		DEFB of 1 bytes
87FE:		label tmp
87FE:0000	DEFW of 1 words
		ORG 8800
waitingMoveUpBit EQU 0000
moveUpBit	EQU 0001
enemyBit	EQU 0002
flashBit	EQU 0007
clearBit	EQU 0006
paper		EQU 0008
siloColourBit	EQU 0003
rocketColourBit	EQU 0004
landColourBit	EQU 0005
tunnelColour1	EQU 0000
playerFrontColour1 EQU 0007
playerBehindColour1 EQU 0006
bulletColour	EQU 0005
landAttr	EQU 0024
tunnelAttr	EQU 0000
rocketSiloAttr	EQU 000D
movingRocketAttr EQU 0056
rocketAttr	EQU 0014
playerFrontAttr	EQU 0078
playerBehindAttr EQU 0070
bulletAttr	EQU 0068
playerStartX	EQU 000A
playerStartY	EQU 000A
bufferStart	EQU C000
bufferLength	EQU 1800
bufferEndHi	EQU 00D8
startLandDir	EQU 0002
startLandTimer	EQU 0001
startRandomSeed	EQU 007B
startLandHeight	EQU 0007
scrollSpeed	EQU 0002
startDifficulty	EQU 0011
difficultySpeed	EQU 0040
8800:		label scramble_start
8800:AF		XOR A
8801:3200C0	LD (C000), A
8804:CDEA88	CALL 88EA
8807:210ACA	LD HL, CA0A
880A:E5		PUSH HL
880B:D9		EXX
880C:110201	LD DE, 0102
880F:010207	LD BC, 0702
8812:2611	LD H, 11
8814:D9		EXX
8815:		label mainLoop
8815:2100C0	LD HL, C000
8818:110058	LD DE, 5800
881B:		label bufferCopyLoop
881B:E5		PUSH HL
881C:012000	LD BC, 0020
881F:EDB0	LDIR
8821:E1		POP HL
8822:24		INC H
8823:CB52	BIT 2, D
8825:28F4	JR Z, 881B
8827:1600	LD D, 00
8829:1E56	LD E, 56
882B:		label logic
882B:2100C0	LD HL, C000
882E:0E00	LD C, 00
8830:		label moveLoop
8830:7E		LD A, (HL)
8831:B7		OR A
8832:2829	JR Z, 885D
8834:FE68	CP 68
8836:200C	JR NZ, 8844
8838:0C		INC C
8839:72		LD (HL), D
883A:2C		INC L
883B:CB56	BIT 2, (HL)
883D:2803	JR Z, 8842
883F:72		LD (HL), D
8840:1802	JR 8844
8842:		label noHit
8842:77		LD (HL), A
8843:2C		INC L
8844:		label noBullet
8844:BB		CP E
8845:2007	JR NZ, 884E
8847:		label launch
8847:25		DEC H
8848:CB6E	BIT 5, (HL)
884A:2001	JR NZ, 884D
884C:73		LD (HL), E
884D:		label rocketDead
884D:24		INC H
884E:		label noMoveUp
884E:FE0D	CP 0D
8850:2006	JR NZ, 8858
8852:ED5F	LD A, R
8854:		label varLaunchChance
8854:E61F	AND 1F
8856:28EF	JR Z, 8847
8858:		label noLaunch
8858:CB76	BIT 6, (HL)
885A:2801	JR Z, 885D
885C:72		LD (HL), D
885D:		label moveJump
885D:23		INC HL
885E:7C		LD A, H
885F:FED8	CP D8
8861:20CD	JR NZ, 8830
8863:C5		PUSH BC
8864:D9		EXX
8865:2D		DEC L
8866:2D		DEC L
8867:2D		DEC L
8868:2005	JR NZ, 886F
886A:25		DEC H
886B:7C		LD A, H
886C:32A788	LD (88A7), A
886F:		label noIncrease
886F:		label varScrollSpeed
886F:0D		DEC C
8870:CCEA88	CALL Z, 88EA
8873:		label varLandTimer
8873:15		DEC D
8874:2007	JR NZ, 887D
8876:ED5F	LD A, R
8878:E607	AND 07
887A:3C		INC A
887B:57		LD D, A
887C:1C		INC E
887D:		label landTimerNotZero
887D:		label varLandDir
887D:7B		LD A, E
887E:0F		RRCA
887F:300E	JR NC, 888F
8881:0F		RRCA
8882:3807	JR C, 888B
8884:		label landUp
8884:CB60	BIT 4, B
8886:2007	JR NZ, 888F
8888:04		INC B
8889:1804	JR 888F
888B:		label landDown
888B:05		DEC B
888C:2001	JR NZ, 888F
888E:04		INC B
888F:		label landDone
888F:		label noScroll
888F:78		LD A, B
8890:D9		EXX
8891:1E24	LD E, 24
8893:1600	LD D, 00
8895:47		LD B, A
8896:211FD7	LD HL, D71F
8899:		label ceilingLoop
8899:73		LD (HL), E
889A:25		DEC H
889B:10FC	DJNZ 8899
889D:ED5F	LD A, R
889F:		label varRocketChance
889F:FE20	CP 20
88A1:3003	JR NC, 88A6
88A3:360D	LD (HL), 0D
88A5:25		DEC H
88A6:		label drawTunnel
88A6:		label varTunnelHeight
88A6:060F	LD B, 0F
88A8:		label tunnelLoop
88A8:72		LD (HL), D
88A9:25		DEC H
88AA:10FC	DJNZ 88A8
88AC:0618	LD B, 18
88AE:		label landLoop
88AE:73		LD (HL), E
88AF:25		DEC H
88B0:10FC	DJNZ 88AE
88B2:		label movePlayer
88B2:D1		POP DE
88B3:E1		POP HL
88B4:01FEFD	LD BC, FDFE
88B7:ED78	IN A, (C)
88B9:CB47	BIT 0, A
88BB:2001	JR NZ, 88BE
88BD:25		DEC H
88BE:		label noUp
88BE:04		INC B
88BF:ED78	IN A, (C)
88C1:CB4F	BIT 1, A
88C3:2001	JR NZ, 88C6
88C5:24		INC H
88C6:		label noDown
88C6:CB57	BIT 2, A
88C8:2001	JR NZ, 88CB
88CA:2D		DEC L
88CB:		label noLeft
88CB:CB5F	BIT 3, A
88CD:2001	JR NZ, 88D0
88CF:2C		INC L
88D0:		label noRight
88D0:E5		PUSH HL
88D1:CB56	BIT 2, (HL)
88D3:C20088	JP NZ, 8800
88D6:3678	LD (HL), 78
88D8:CB67	BIT 4, A
88DA:2008	JR NZ, 88E4
88DC:CB4B	BIT 1, E
88DE:2004	JR NZ, 88E4
88E0:2C		INC L
88E1:3668	LD (HL), 68
88E3:2D		DEC L
88E4:		label noFire
88E4:2D		DEC L
88E5:3670	LD (HL), 70
88E7:C31588	JP 8815
88EA:		label copyBuffer
88EA:D9		EXX
88EB:2100C0	LD HL, C000
88EE:1101C0	LD DE, C001
88F1:B7		OR A
88F2:2801	JR Z, 88F5
88F4:EB		EX DE, HL
88F5:		label noSwap
88F5:010018	LD BC, 1800
88F8:EDB0	LDIR
88FA:D9		EXX
88FB:0E02	LD C, 02
88FD:C9		RET
BITMAP_SCRN_ADDR EQU 4000
BITMAP_SCRN_SIZE EQU 1800
ATTR_SCRN_ADDR	EQU 5800
ATTR_SCRN_SIZE	EQU 0300
ATTR_ROW_SIZE	EQU 001F
BLACK		EQU 0000
BLUE		EQU 0001
RED		EQU 0002
MAGENTA		EQU 0003
GREEN		EQU 0004
CYAN		EQU 0005
YELLOW		EQU 0006
WHITE		EQU 0007
PAPER		EQU 0008
BRIGHT		EQU 0040
FLASH		EQU 0080
PLAYER_COLOUR	EQU 00D7
BALL_COLOUR	EQU 0037
PLAY_AREA_COLOUR EQU 0008
BORDER_COLOUR	EQU 0000
PROGRESS_BAR_COLOUR EQU 0020
UP_CELL		EQU FFE0
DOWN_CELL	EQU 0020
LEFT_CELL	EQU FFFF
RIGHT_CELL	EQU 0001
MAX_TRAPPED_COUNT EQU 0003
PLAYING_AREA_DEPTH EQU 0014
DYN_VAR_LEVELS_COMPLETE EQU 0000
DYN_VAR_TRAPPED_COUNT EQU 0001
		ORG 8900
8900:		label trap_init
8900:21018A	LD HL, 8A01
8903:3600	LD (HL), 00
8905:23		INC HL
8906:3600	LD (HL), 00
8908:		label startGame
8908:210040	LD HL, 4000
890B:		label clearLoop
890B:3600	LD (HL), 00
890D:23		INC HL
890E:3E5B	LD A, 5B
8910:BC		CP H
8911:20F8	JR NZ, 890B
8913:		label drawPlayingArea
8913:3E14	LD A, 14
8915:216158	LD HL, 5861
8918:		label drawRow
8918:E5		PUSH HL
8919:D1		POP DE
891A:13		INC DE
891B:011D00	LD BC, 001D
891E:3608	LD (HL), 08
8920:EDB0	LDIR
8922:0E03	LD C, 03
8924:09		ADD HL, BC
8925:3D		DEC A
8926:20F0	JR NZ, 8918
8928:		label drawProgressBar
8928:3A018A	LD A, (8A01)
892B:B7		OR A
892C:280A	JR Z, 8938
892E:212158	LD HL, 5821
8931:		label drawProgressBlock
8931:3620	LD (HL), 20
8933:23		INC HL
8934:3D		DEC A
8935:20FA	JR NZ, 8931
8937:E5		PUSH HL
8938:		label TrapMainLoop
8938:21F989	LD HL, 89F9
893B:0EFE	LD C, FE
893D:		label _checkRight
893D:06DF	LD B, DF
893F:ED78	IN A, (C)
8941:1F		RRA
8942:380C	JR C, 8950
8944:3EFF	LD A, FF
8946:BE		CP (HL)
8947:2842	JR Z, 898B
8949:3601	LD (HL), 01
894B:23		INC HL
894C:3600	LD (HL), 00
894E:183B	JR 898B
8950:		label _checkLeft
8950:1F		RRA
8951:380B	JR C, 895E
8953:3E01	LD A, 01
8955:BE		CP (HL)
8956:2833	JR Z, 898B
8958:36FF	LD (HL), FF
895A:23		INC HL
895B:36FF	LD (HL), FF
895D:0C		INC C
895E:		label _checkUp
895E:06FB	LD B, FB
8960:ED78	IN A, (C)
8962:1F		RRA
8963:380B	JR C, 8970
8965:3E20	LD A, 20
8967:BE		CP (HL)
8968:2821	JR Z, 898B
896A:36E0	LD (HL), E0
896C:23		INC HL
896D:36FF	LD (HL), FF
896F:04		INC B
8970:		label _checkDown
8970:04		INC B
8971:04		INC B
8972:ED78	IN A, (C)
8974:1F		RRA
8975:380A	JR C, 8981
8977:3EE0	LD A, E0
8979:BE		CP (HL)
897A:280F	JR Z, 898B
897C:3620	LD (HL), 20
897E:23		INC HL
897F:3600	LD (HL), 00
8981:		label _checkEnter
8981:06BF	LD B, BF
8983:ED78	IN A, (C)
8985:1F		RRA
8986:3803	JR C, 898B
8988:C30089	JP 8900
898B:		label _movePlayer
898B:2AF789	LD HL, (89F7)
898E:3600	LD (HL), 00
8990:ED5BF989	LD DE, (89F9)
8994:19		ADD HL, DE
8995:AF		XOR A
8996:BE		CP (HL)
8997:2803	JR Z, 899C
8999:22F789	LD (89F7), HL
899C:		label _drawplayer
899C:2AF789	LD HL, (89F7)
899F:36D7	LD (HL), D7
89A1:		label _moveBall
89A1:11FD89	LD DE, 89FD
89A4:ED4BFD89	LD BC, (89FD)
89A8:CDDA89	CALL 89DA
89AB:11FF89	LD DE, 89FF
89AE:ED4BFF89	LD BC, (89FF)
89B2:CDDA89	CALL 89DA
89B5:		label _drawBall
89B5:2AFB89	LD HL, (89FB)
89B8:3637	LD (HL), 37
89BA:		label _sync
89BA:76		HALT
89BB:76		HALT
89BC:		label _eraseBall
89BC:3608	LD (HL), 08
89BE:D1		POP DE
89BF:E5		PUSH HL
89C0:B7		OR A
89C1:ED52	SBC HL, DE
89C3:21028A	LD HL, 8A02
89C6:CACE89	JP Z, 89CE
89C9:3600	LD (HL), 00
89CB:C33889	JP 8938
89CE:		label _trapped
89CE:34		INC (HL)
89CF:7E		LD A, (HL)
89D0:FE03	CP 03
89D2:C23889	JP NZ, 8938
89D5:2B		DEC HL
89D6:34		INC (HL)
89D7:C30889	JP 8908
89DA:		label updateBallWithVector
89DA:2AFB89	LD HL, (89FB)
89DD:09		ADD HL, BC
89DE:BE		CP (HL)
89DF:2012	JR NZ, 89F3
89E1:210000	LD HL, 0000
89E4:B7		OR A
89E5:ED42	SBC HL, BC
89E7:EB		EX DE, HL
89E8:73		LD (HL), E
89E9:23		INC HL
89EA:72		LD (HL), D
89EB:		label _playClickLoop
89EB:78		LD A, B
89EC:E6F8	AND F8
89EE:D3FE	OUT (FE), A
89F0:10F9	DJNZ 89EB
89F2:C9		RET
89F3:		label _saveBallPos
89F3:22FB89	LD (89FB), HL
89F6:C9		RET
89F7:		label playerAddr
89F7:9059	DEFW of 1 words
89F9:		label playerVector
89F9:E0FF	DEFW of 1 words
89FB:		label ballAddr
89FB:9059	DEFW of 1 words
89FD:		label xVector
89FD:FFFF	DEFW of 1 words
89FF:		label yVector
89FF:2000	DEFW of 1 words
8A01:		label dynamicVariables
		ORG 8B00
snakeGREEN	EQU 0064
WALL		EQU 0000
8B00:		label snakeSTART
8B00:AF		XOR A
8B01:D3FE	OUT (FE), A
8B03:3E16	LD A, 16
8B05:		label SCENE
8B05:210058	LD HL, 5800
8B08:110158	LD DE, 5801
8B0B:012000	LD BC, 0020
8B0E:75		LD (HL), L
8B0F:EDB0	LDIR
8B11:		label AZ
8B11:23		INC HL
8B12:13		INC DE
8B13:3664	LD (HL), 64
8B15:0E1E	LD C, 1E
8B17:EDB0	LDIR
8B19:70		LD (HL), B
8B1A:23		INC HL
8B1B:13		INC DE
8B1C:70		LD (HL), B
8B1D:3D		DEC A
8B1E:20F1	JR NZ, 8B11
8B20:0E1F	LD C, 1F
8B22:EDB0	LDIR
8B24:21008C	LD HL, 8C00
8B27:116F59	LD DE, 596F
8B2A:73		LD (HL), E
8B2B:23		INC HL
8B2C:72		LD (HL), D
8B2D:23		INC HL
8B2E:13		INC DE
8B2F:73		LD (HL), E
8B30:23		INC HL
8B31:72		LD (HL), D
8B32:22738B	LD (8B73), HL
8B35:23		INC HL
8B36:E5		PUSH HL
8B37:D1		POP DE
8B38:13		INC DE
8B39:01FD02	LD BC, 02FD
8B3C:77		LD (HL), A
8B3D:EDB0	LDIR
8B3F:210200	LD HL, 0002
8B42:226C8B	LD (8B6C), HL
8B45:		label SEED
8B45:110000	LD DE, 0000
8B48:63		LD H, E
8B49:2EFD	LD L, FD
8B4B:7A		LD A, D
8B4C:B7		OR A
8B4D:ED52	SBC HL, DE
8B4F:DE00	SBC A, 00
8B51:5F		LD E, A
8B52:1600	LD D, 00
8B54:ED52	SBC HL, DE
8B56:3000	JR NC, 8B58
8B58:		label AB
8B58:22468B	LD (8B46), HL
8B5B:ED5F	LD A, R
8B5D:E65B	AND 5B
8B5F:67		LD H, A
8B60:7E		LD A, (HL)
8B61:FE64	CP 64
8B63:20E0	JR NZ, 8B45
8B65:3624	LD (HL), 24
8B67:216A8B	LD HL, 8B6A
8B6A:		label GAME
8B6A:E5		PUSH HL
8B6B:		label WLEN
8B6B:210000	LD HL, 0000
8B6E:2B		DEC HL
8B6F:29		ADD HL, HL
8B70:4D		LD C, L
8B71:44		LD B, H
8B72:		label TAIL
8B72:210000	LD HL, 0000
8B75:E5		PUSH HL
8B76:56		LD D, (HL)
8B77:2B		DEC HL
8B78:5E		LD E, (HL)
8B79:2B		DEC HL
8B7A:EB		EX DE, HL
8B7B:E3		EX (SP), HL
8B7C:		label snakeMOVE
8B7C:1A		LD A, (DE)
8B7D:77		LD (HL), A
8B7E:2B		DEC HL
8B7F:1B		DEC DE
8B80:0B		DEC BC
8B81:78		LD A, B
8B82:B1		OR C
8B83:20F7	JR NZ, 8B7C
8B85:56		LD D, (HL)
8B86:2B		DEC HL
8B87:5E		LD E, (HL)
8B88:		label DIREC
8B88:01FFFF	LD BC, FFFF
8B8B:EB		EX DE, HL
8B8C:09		ADD HL, BC
8B8D:C1		POP BC
8B8E:		label TESTEND
8B8E:7E		LD A, (HL)
8B8F:B7		OR A
8B90:2802	JR Z, 8B94
8B92:FE36	CP 36
8B94:		label JP_START
8B94:CA008B	JP Z, 8B00
8B97:FE24	CP 24
8B99:201C	JR NZ, 8BB7
8B9B:D9		EXX
8B9C:2A738B	LD HL, (8B73)
8B9F:2B		DEC HL
8BA0:5E		LD E, (HL)
8BA1:23		INC HL
8BA2:56		LD D, (HL)
8BA3:23		INC HL
8BA4:73		LD (HL), E
8BA5:23		INC HL
8BA6:72		LD (HL), D
8BA7:22738B	LD (8B73), HL
8BAA:2A6C8B	LD HL, (8B6C)
8BAD:23		INC HL
8BAE:226C8B	LD (8B6C), HL
8BB1:E1		POP HL
8BB2:21458B	LD HL, 8B45
8BB5:E5		PUSH HL
8BB6:D9		EXX
8BB7:		label SET_HEAD
8BB7:C5		PUSH BC
8BB8:EB		EX DE, HL
8BB9:73		LD (HL), E
8BBA:23		INC HL
8BBB:72		LD (HL), D
8BBC:E1		POP HL
8BBD:3664	LD (HL), 64
8BBF:2A6C8B	LD HL, (8B6C)
8BC2:44		LD B, H
8BC3:4D		LD C, L
8BC4:2A738B	LD HL, (8B73)
8BC7:		label DRAW
8BC7:56		LD D, (HL)
8BC8:2B		DEC HL
8BC9:5E		LD E, (HL)
8BCA:2B		DEC HL
8BCB:3E36	LD A, 36
8BCD:12		LD (DE), A
8BCE:0B		DEC BC
8BCF:78		LD A, B
8BD0:B1		OR C
8BD1:20F4	JR NZ, 8BC7
8BD3:0608	LD B, 08
8BD5:		label WAIT
8BD5:76		HALT
8BD6:10FD	DJNZ 8BD5
8BD8:		label KEYS
8BD8:01FE7F	LD BC, 7FFE
8BDB:ED78	IN A, (C)
8BDD:1F		RRA
8BDE:3805	JR C, 8BE5
8BE0:212000	LD HL, 0020
8BE3:1816	JR 8BFB
8BE5:		label KEYUP
8BE5:1F		RRA
8BE6:3805	JR C, 8BED
8BE8:21E0FF	LD HL, FFE0
8BEB:180E	JR 8BFB
8BED:		label KEYRIGHT
8BED:1F		RRA
8BEE:3805	JR C, 8BF5
8BF0:210100	LD HL, 0001
8BF3:1806	JR 8BFB
8BF5:		label KEYLEFT
8BF5:1F		RRA
8BF6:3806	JR C, 8BFE
8BF8:21FFFF	LD HL, FFFF
8BFB:		label SETDIREC
8BFB:22898B	LD (8B89), HL
8BFE:		label JP_GAME
8BFE:E1		POP HL
8BFF:E9		JP (HL)
LEN		EQU 0100
8C00:		label WORMBUF
8C00:00000000	DEFS of 1536 bytes with value 00
8C04:00000000
8C08:00000000
8C0C:00000000
8C10:00000000
8C14:00000000
8C18:00000000
8C1C:00000000
8C20:00000000
8C24:00000000
8C28:00000000
8C2C:00000000
8C30:00000000
8C34:00000000
8C38:00000000
8C3C:00000000
8C40:00000000
8C44:00000000
8C48:00000000
8C4C:00000000
8C50:00000000
8C54:00000000
8C58:00000000
8C5C:00000000
8C60:00000000
8C64:00000000
8C68:00000000
8C6C:00000000
8C70:00000000
8C74:00000000
8C78:00000000
8C7C:00000000
8C80:00000000
8C84:00000000
8C88:00000000
8C8C:00000000
8C90:00000000
8C94:00000000
8C98:00000000
8C9C:00000000
8CA0:00000000
8CA4:00000000
8CA8:00000000
8CAC:00000000
8CB0:00000000
8CB4:00000000
8CB8:00000000
8CBC:00000000
8CC0:00000000
8CC4:00000000
8CC8:00000000
8CCC:00000000
8CD0:00000000
8CD4:00000000
8CD8:00000000
8CDC:00000000
8CE0:00000000
8CE4:00000000
8CE8:00000000
8CEC:00000000
8CF0:00000000
8CF4:00000000
8CF8:00000000
8CFC:00000000
8D00:00000000
8D04:00000000
8D08:00000000
8D0C:00000000
8D10:00000000
8D14:00000000
8D18:00000000
8D1C:00000000
8D20:00000000
8D24:00000000
8D28:00000000
8D2C:00000000
8D30:00000000
8D34:00000000
8D38:00000000
8D3C:00000000
8D40:00000000
8D44:00000000
8D48:00000000
8D4C:00000000
8D50:00000000
8D54:00000000
8D58:00000000
8D5C:00000000
8D60:00000000
8D64:00000000
8D68:00000000
8D6C:00000000
8D70:00000000
8D74:00000000
8D78:00000000
8D7C:00000000
8D80:00000000
8D84:00000000
8D88:00000000
8D8C:00000000
8D90:00000000
8D94:00000000
8D98:00000000
8D9C:00000000
8DA0:00000000
8DA4:00000000
8DA8:00000000
8DAC:00000000
8DB0:00000000
8DB4:00000000
8DB8:00000000
8DBC:00000000
8DC0:00000000
8DC4:00000000
8DC8:00000000
8DCC:00000000
8DD0:00000000
8DD4:00000000
8DD8:00000000
8DDC:00000000
8DE0:00000000
8DE4:00000000
8DE8:00000000
8DEC:00000000
8DF0:00000000
8DF4:00000000
8DF8:00000000
8DFC:00000000
8E00:00000000
8E04:00000000
8E08:00000000
8E0C:00000000
8E10:00000000
8E14:00000000
8E18:00000000
8E1C:00000000
8E20:00000000
8E24:00000000
8E28:00000000
8E2C:00000000
8E30:00000000
8E34:00000000
8E38:00000000
8E3C:00000000
8E40:00000000
8E44:00000000
8E48:00000000
8E4C:00000000
8E50:00000000
8E54:00000000
8E58:00000000
8E5C:00000000
8E60:00000000
8E64:00000000
8E68:00000000
8E6C:00000000
8E70:00000000
8E74:00000000
8E78:00000000
8E7C:00000000
8E80:00000000
8E84:00000000
8E88:00000000
8E8C:00000000
8E90:00000000
8E94:00000000
8E98:00000000
8E9C:00000000
8EA0:00000000
8EA4:00000000
8EA8:00000000
8EAC:00000000
8EB0:00000000
8EB4:00000000
8EB8:00000000
8EBC:00000000
8EC0:00000000
8EC4:00000000
8EC8:00000000
8ECC:00000000
8ED0:00000000
8ED4:00000000
8ED8:00000000
8EDC:00000000
8EE0:00000000
8EE4:00000000
8EE8:00000000
8EEC:00000000
8EF0:00000000
8EF4:00000000
8EF8:00000000
8EFC:00000000
8F00:00000000
8F04:00000000
8F08:00000000
8F0C:00000000
8F10:00000000
8F14:00000000
8F18:00000000
8F1C:00000000
8F20:00000000
8F24:00000000
8F28:00000000
8F2C:00000000
8F30:00000000
8F34:00000000
8F38:00000000
8F3C:00000000
8F40:00000000
8F44:00000000
8F48:00000000
8F4C:00000000
8F50:00000000
8F54:00000000
8F58:00000000
8F5C:00000000
8F60:00000000
8F64:00000000
8F68:00000000
8F6C:00000000
8F70:00000000
8F74:00000000
8F78:00000000
8F7C:00000000
8F80:00000000
8F84:00000000
8F88:00000000
8F8C:00000000
8F90:00000000
8F94:00000000
8F98:00000000
8F9C:00000000
8FA0:00000000
8FA4:00000000
8FA8:00000000
8FAC:00000000
8FB0:00000000
8FB4:00000000
8FB8:00000000
8FBC:00000000
8FC0:00000000
8FC4:00000000
8FC8:00000000
8FCC:00000000
8FD0:00000000
8FD4:00000000
8FD8:00000000
8FDC:00000000
8FE0:00000000
8FE4:00000000
8FE8:00000000
8FEC:00000000
8FF0:00000000
8FF4:00000000
8FF8:00000000
8FFC:00000000
9000:00000000
9004:00000000
9008:00000000
900C:00000000
9010:00000000
9014:00000000
9018:00000000
901C:00000000
9020:00000000
9024:00000000
9028:00000000
902C:00000000
9030:00000000
9034:00000000
9038:00000000
903C:00000000
9040:00000000
9044:00000000
9048:00000000
904C:00000000
9050:00000000
9054:00000000
9058:00000000
905C:00000000
9060:00000000
9064:00000000
9068:00000000
906C:00000000
9070:00000000
9074:00000000
9078:00000000
907C:00000000
9080:00000000
9084:00000000
9088:00000000
908C:00000000
9090:00000000
9094:00000000
9098:00000000
909C:00000000
90A0:00000000
90A4:00000000
90A8:00000000
90AC:00000000
90B0:00000000
90B4:00000000
90B8:00000000
90BC:00000000
90C0:00000000
90C4:00000000
90C8:00000000
90CC:00000000
90D0:00000000
90D4:00000000
90D8:00000000
90DC:00000000
90E0:00000000
90E4:00000000
90E8:00000000
90EC:00000000
90F0:00000000
90F4:00000000
90F8:00000000
90FC:00000000
9100:00000000
9104:00000000
9108:00000000
910C:00000000
9110:00000000
9114:00000000
9118:00000000
911C:00000000
9120:00000000
9124:00000000
9128:00000000
912C:00000000
9130:00000000
9134:00000000
9138:00000000
913C:00000000
9140:00000000
9144:00000000
9148:00000000
914C:00000000
9150:00000000
9154:00000000
9158:00000000
915C:00000000
9160:00000000
9164:00000000
9168:00000000
916C:00000000
9170:00000000
9174:00000000
9178:00000000
917C:00000000
9180:00000000
9184:00000000
9188:00000000
918C:00000000
9190:00000000
9194:00000000
9198:00000000
919C:00000000
91A0:00000000
91A4:00000000
91A8:00000000
91AC:00000000
91B0:00000000
91B4:00000000
91B8:00000000
91BC:00000000
91C0:00000000
91C4:00000000
91C8:00000000
91CC:00000000
91D0:00000000
91D4:00000000
91D8:00000000
91DC:00000000
91E0:00000000
91E4:00000000
91E8:00000000
91EC:00000000
91F0:00000000
91F4:00000000
91F8:00000000
91FC:00000000
		ORG 9200
9200:		label invadersSTART
9200:3E10	LD A, 10
9202:		label REinvadersSTART
9202:329292	LD (9292), A
9205:328D92	LD (928D), A
9208:AF		XOR A
9209:D3FE	OUT (FE), A
920B:		label invadersSCENE
920B:210058	LD HL, 5800
920E:110158	LD DE, 5801
9211:010003	LD BC, 0300
9214:77		LD (HL), A
9215:EDB0	LDIR
9217:0E03	LD C, 03
9219:212558	LD HL, 5825
921C:228792	LD (9287), HL
921F:112800	LD DE, 0028
9222:3E09	LD A, 09
9224:		label ENEMIES
9224:0608	LD B, 08
9226:		label LINE
9226:77		LD (HL), A
9227:23		INC HL
9228:23		INC HL
9229:23		INC HL
922A:10FA	DJNZ 9226
922C:19		ADD HL, DE
922D:C609	ADD A, 09
922F:0D		DEC C
9230:20F2	JR NZ, 9224
9232:		label invadersKEYS
9232:76		HALT
9233:		label SHIP
9233:21EF5A	LD HL, 5AEF
9236:3607	LD (HL), 07
9238:01FE7F	LD BC, 7FFE
923B:ED78	IN A, (C)
923D:1F		RRA
923E:1F		RRA
923F:3808	JR C, 9249
9241:		label FIRE
9241:CDF892	CALL 92F8
9244:2003	JR NZ, 9249
9246:22F992	LD (92F9), HL
9249:		label invadersKEYRIGHT
9249:1F		RRA
924A:3807	JR C, 9253
924C:		label invadersRIGHT
924C:7D		LD A, L
924D:3C		INC A
924E:280F	JR Z, 925F
9250:23		INC HL
9251:1809	JR 925C
9253:		label invadersKEYLEFT
9253:1F		RRA
9254:3809	JR C, 925F
9256:		label invadersLEFT
9256:7D		LD A, L
9257:E61F	AND 1F
9259:2804	JR Z, 925F
925B:2B		DEC HL
925C:		label invadersMOVE
925C:223492	LD (9234), HL
925F:		label invadersSTARTMOV
925F:CDF892	CALL 92F8
9262:112000	LD DE, 0020
9265:2819	JR Z, 9280
9267:E5		PUSH HL
9268:69		LD L, C
9269:60		LD H, B
926A:72		LD (HL), D
926B:ED52	SBC HL, DE
926D:7C		LD A, H
926E:FE58	CP 58
9270:3805	JR C, 9277
9272:7E		LD A, (HL)
9273:B7		OR A
9274:2806	JR Z, 927C
9276:72		LD (HL), D
9277:		label RSBULLET
9277:210000	LD HL, 0000
927A:1800	JR 927C
927C:		label NOHIT
927C:		label STBULLET
927C:22F992	LD (92F9), HL
927F:E1		POP HL
9280:		label NOBULLET
9280:363F	LD (HL), 3F
9282:2AF992	LD HL, (92F9)
9285:72		LD (HL), D
9286:		label EPOS
9286:210000	LD HL, 0000
9289:019700	LD BC, 0097
928C:		label SPEED
928C:3E10	LD A, 10
928E:3D		DEC A
928F:2002	JR NZ, 9293
9291:		label DEFSPEED
9291:3E10	LD A, 10
9293:		label SETSPEED
9293:328D92	LD (928D), A
9296:		label EMOVE
9296:CCA192	CALL Z, 92A1
9299:2AF992	LD HL, (92F9)
929C:367F	LD (HL), 7F
929E:C33292	JP 9232
92A1:		label ELEFT
92A1:7D		LD A, L
92A2:E61F	AND 1F
92A4:2008	JR NZ, 92AE
92A6:21B892	LD HL, 92B8
92A9:		label SETDOWN
92A9:229792	LD (9297), HL
92AC:1822	JR 92D0
92AE:		label ELMOVE
92AE:5D		LD E, L
92AF:54		LD D, H
92B0:1B		DEC DE
92B1:EDB0	LDIR
92B3:218792	LD HL, 9287
92B6:35		DEC (HL)
92B7:C9		RET
92B8:		label ERIGHT
92B8:09		ADD HL, BC
92B9:7D		LD A, L
92BA:3D		DEC A
92BB:E61F	AND 1F
92BD:2005	JR NZ, 92C4
92BF:21A192	LD HL, 92A1
92C2:18E5	JR 92A9
92C4:		label ERMOVE
92C4:5D		LD E, L
92C5:54		LD D, H
92C6:13		INC DE
92C7:03		INC BC
92C8:03		INC BC
92C9:EDB8	LDDR
92CB:218792	LD HL, 9287
92CE:34		INC (HL)
92CF:C9		RET
92D0:		label EDOWN
92D0:2A8792	LD HL, (9287)
92D3:19		ADD HL, DE
92D4:228792	LD (9287), HL
92D7:09		ADD HL, BC
92D8:E5		PUSH HL
92D9:ED52	SBC HL, DE
92DB:D1		POP DE
92DC:03		INC BC
92DD:7A		LD A, D
92DE:FE5B	CP 5B
92E0:2812	JR Z, 92F4
92E2:EDB8	LDDR
92E4:0E20	LD C, 20
92E6:EDB8	LDDR
92E8:06A0	LD B, A0
92EA:AF		XOR A
92EB:		label CHECK
92EB:B6		OR (HL)
92EC:C0		RET NZ
92ED:23		INC HL
92EE:10FB	DJNZ 92EB
92F0:		label LEVELOVR
92F0:3A9292	LD A, (9292)
92F3:1F		RRA
92F4:		label GAMEOVR
92F4:E1		POP HL
92F5:C30292	JP 9202
92F8:		label BULLET
92F8:010000	LD BC, 0000
92FB:5F		LD E, A
92FC:78		LD A, B
92FD:B1		OR C
92FE:7B		LD A, E
92FF:C9		RET
invLEN		EQU 0100
SCREEN		EQU 4000
ATTRIBS		EQU 5800
ATTRIBS_SIZE	EQU 0300
JUMP_STEPS	EQU 0004
LOWER_GROUND	EQU 0002
UPPER_GROUND	EQU 000F
SURFACE_COLOR	EQU 0028
SOLID_COLOR	EQU 0020
CLEAR_COLOR	EQU 0000
BADDY_COLOR	EQU 0070
DEAD_COLOR	EQU 0010
WIN_COLOR	EQU 0020
		ORG 9300
9300:		label RESTART_POINT
9300:AF		XOR A
9301:CDF693	CALL 93F6
9304:E5		PUSH HL
9305:77		LD (HL), A
9306:EDB0	LDIR
9308:D3FE	OUT (FE), A
930A:32EE93	LD (93EE), A
930D:010C08	LD BC, 080C
9310:6F		LD L, A
9311:60		LD H, B
9312:D9		EXX
9313:DD212000	LD IX, 0020
9317:		label MAIN_LOOP
9317:76		HALT
9318:76		HALT
9319:76		HALT
931A:76		HALT
931B:AF		XOR A
931C:CDE893	CALL 93E8
931F:DDB5	OR IXL
9321:2802	JR Z, 9325
9323:DD2D	DEC IXL
9325:		label DELAY_START
9325:		label SET_GROUND
9325:D9		EXX
9326:1EFE	LD E, FE
9328:DDAD	XOR IXL
932A:203C	JR NZ, 9368
932C:102E	DJNZ 935C
932E:CB0C	RRC H
9330:3003	JR NC, 9335
9332:E3		EX (SP), HL
9333:23		INC HL
9334:E3		EX (SP), HL
9335:		label NO_BUMP
9335:0608	LD B, 08
9337:7D		LD A, L
9338:B7		OR A
9339:2805	JR Z, 9340
933B:4D		LD C, L
933C:2E00	LD L, 00
933E:1828	JR 9368
9340:		label NO_GAP
9340:ED5F	LD A, R
9342:E60F	AND 0F
9344:2004	JR NZ, 934A
9346:69		LD L, C
9347:4F		LD C, A
9348:181E	JR 9368
934A:		label NO_GAP2
934A:1F		RRA
934B:79		LD A, C
934C:3807	JR C, 9355
934E:FE0F	CP 0F
9350:2816	JR Z, 9368
9352:0C		INC C
9353:1813	JR 9368
9355:		label GO_DOWN
9355:FE02	CP 02
9357:280F	JR Z, 9368
9359:0D		DEC C
935A:180C	JR 9368
935C:		label SPAWN_BADDY
935C:ED5F	LD A, R
935E:E60F	AND 0F
9360:2006	JR NZ, 9368
9362:80		ADD A, B
9363:FE04	CP 04
9365:2001	JR NZ, 9368
9367:59		LD E, C
9368:		label SET_GROUND_EXIT
9368:D9		EXX
9369:E3		EX (SP), HL
936A:74		LD (HL), H
936B:E3		EX (SP), HL
936C:CDF693	CALL 93F6
936F:EB		EX DE, HL
9370:EDB0	LDIR
9372:211F58	LD HL, 581F
9375:112000	LD DE, 0020
9378:0618	LD B, 18
937A:		label DL0
937A:78		LD A, B
937B:D9		EXX
937C:BB		CP E
937D:2804	JR Z, 9383
937F:3C		INC A
9380:BB		CP E
9381:200B	JR NZ, 938E
9383:		label BADDY
9383:3E70	LD A, 70
9385:1816	JR 939D
9387:		label STILL_ALIVE
9387:3E78	LD A, 78
9389:CDE893	CALL 93E8
938C:1889	JR 9317
938E:		label NO_BADDY
938E:91		SUB C
938F:300A	JR NC, 939B
9391:3C		INC A
9392:2003	JR NZ, 9397
9394:3E28	LD A, 28
9396:C2		DEFB of 1 bytes
9397:		label NOT_SURFACE
9397:3E20	LD A, 20
9399:1802	JR 939D
939B:		label OPEN_SPACE
939B:3E00	LD A, 00
939D:		label DL2
939D:D9		EXX
939E:77		LD (HL), A
939F:19		ADD HL, DE
93A0:10D8	DJNZ 937A
93A2:CDB893	CALL 93B8
93A5:B7		OR A
93A6:28DF	JR Z, 9387
93A8:3E02	LD A, 02
93AA:D3FE	OUT (FE), A
93AC:3E10	LD A, 10
93AE:CDE893	CALL 93E8
93B1:		label DEAD_LOOP
93B1:76		HALT
93B2:10FD	DJNZ 93B1
93B4:E1		POP HL
93B5:C30093	JP 9300
93B8:		label MOVE_PLAYER
93B8:DD7D	LD A, IXL
93BA:CB2F	SRA A
93BC:2028	JR NZ, 93E6
93BE:CDE893	CALL 93E8
93C1:B1		OR C
93C2:C0		RET NZ
93C3:1E20	LD E, 20
93C5:19		ADD HL, DE
93C6:B6		OR (HL)
93C7:280A	JR Z, 93D3
93C9:		label CHECK_JUMP
93C9:AF		XOR A
93CA:DBFE	IN A, (FE)
93CC:2F		CPL
93CD:E61F	AND 1F
93CF:C8		RET Z
93D0:DD2604	LD IXH, 04
93D3:		label NOT_GROUNDED
93D3:DD7C	LD A, IXH
93D5:B7		OR A
93D6:3AEE93	LD A, (93EE)
93D9:2804	JR Z, 93DF
93DB:DD94	SUB IXH
93DD:DD25	DEC IXH
93DF:		label FALLING
93DF:3C		INC A
93E0:FE18	CP 18
93E2:C8		RET Z
93E3:32EE93	LD (93EE), A
93E6:		label NORMAL_CONTINUE
93E6:AF		XOR A
93E7:C9		RET
93E8:		label GET_OR_DRAW_PLAYER
93E8:210458	LD HL, 5804
93EB:0620	LD B, 20
93ED:		label PLAYER_Y
93ED:110000	LD DE, 0000
93F0:		label LOOP
93F0:19		ADD HL, DE
93F1:10FD	DJNZ 93F0
93F3:4E		LD C, (HL)
93F4:77		LD (HL), A
93F5:C9		RET
93F6:		label GET_LDIR_PARAMS
93F6:210058	LD HL, 5800
93F9:110158	LD DE, 5801
93FC:01FF02	LD BC, 02FF
93FF:C9		RET
Emiting raw binary from 8000 to 93FF
